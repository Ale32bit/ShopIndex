/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/htmx.org@1.9.10/dist/ext/sse.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(){var t;function e(t){return new EventSource(t,{withCredentials:!0})}function n(t){return t.trim().split(/\s+/)}function r(e,r){if(null==e)return null;o(e,"sse-connect").forEach((function(e){var n=t.getAttributeValue(e,"sse-connect");null!=n&&s(e,n,r)})),o(e,"hx-sse").forEach((function(e){var a=function(e){var r=t.getAttributeValue(e,"hx-sse");if(r)for(var s=n(r),a=0;a<s.length;a++){var o=s[a].split(/:(.+)/);if("connect"===o[0])return o[1]}}(e);null!=a&&s(e,a,r)}))}function s(e,n,s){var o=htmx.createEventSource(n);o.onerror=function(n){if(t.triggerErrorEvent(e,"htmx:sseError",{error:n,source:o}),!a(e)&&o.readyState===EventSource.CLOSED){s=s||0;var i=Math.random()*(2^s)*500;window.setTimeout((function(){r(e,Math.min(7,s+1))}),i)}},o.onopen=function(n){t.triggerEvent(e,"htmx:sseOpen",{source:o})},t.getInternalData(e).sseEventSource=o}function a(e){if(!t.bodyContains(e)){var n=t.getInternalData(e).sseEventSource;if(null!=n)return n.close(),!0}return!1}function o(e,n){var r=[];return t.hasAttribute(e,n)&&r.push(e),e.querySelectorAll("["+n+"], [data-"+n+"]").forEach((function(t){r.push(t)})),r}function i(e,n){t.withExtensions(e,(function(t){n=t.transformResponse(n,null,e)}));var r=t.getSwapSpecification(e),s=t.getTarget(e),a=t.makeSettleInfo(e);t.selectAndSwap(r.swapStyle,s,e,n,a),a.elts.forEach((function(e){e.classList&&e.classList.add(htmx.config.settlingClass),t.triggerEvent(e,"htmx:beforeSettle")})),r.settleDelay>0?setTimeout(u(a),r.settleDelay):u(a)()}function u(e){return function(){e.tasks.forEach((function(t){t.call()})),e.elts.forEach((function(e){e.classList&&e.classList.remove(htmx.config.settlingClass),t.triggerEvent(e,"htmx:afterSettle")}))}}function c(e){return null!=t.getInternalData(e).sseEventSource}htmx.defineExtension("sse",{init:function(n){t=n,null==htmx.createEventSource&&(htmx.createEventSource=e)},onEvent:function(e,s){switch(e){case"htmx:beforeCleanupElement":var u=t.getInternalData(s.target);return void(u.sseEventSource&&u.sseEventSource.close());case"htmx:afterProcessNode":r(s.target),function(e){var r=t.getClosestMatch(e,c);if(null==r)return null;var s=t.getInternalData(r),u=s.sseEventSource;o(e,"sse-swap").forEach((function(s){var o=t.getAttributeValue(s,"sse-swap");if(o)var c=o.split(",");else c=function(e){var r=t.getAttributeValue(e,"hx-sse"),s=[];if(null!=r)for(var a=n(r),o=0;o<a.length;o++){var i=a[o].split(/:(.+)/);"swap"===i[0]&&s.push(i[1])}return s}(s);for(var l=0;l<c.length;l++){var f=c[l].trim(),v=function(n){a(r)||(t.bodyContains(s)||u.removeEventListener(f,v),i(s,n.data),t.triggerEvent(e,"htmx:sseMessage",n))};t.getInternalData(s).sseEventListener=v,u.addEventListener(f,v)}})),o(e,"hx-trigger").forEach((function(e){var n=t.getAttributeValue(e,"hx-trigger");if(null!=n&&"sse:"==n.slice(0,4)){n=n.substr(4)}}))}(s.target)}}})}();
//# sourceMappingURL=/sm/00f0a8d46a35e8cecb78a96f4f6806b3a7d05cd3b49de67a13637f9218b7b78e.map